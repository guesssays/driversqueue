# Структура аудио файлов для офлайн озвучки табло

## Структура папок

```
public/audio/
├── ru/
│   ├── beep.mp3
│   ├── number.mp3
│   ├── please_go.mp3
│   ├── window.mp3
│   ├── digits/
│   │   ├── 0.mp3
│   │   ├── 1.mp3
│   │   ├── 2.mp3
│   │   ├── 3.mp3
│   │   ├── 4.mp3
│   │   ├── 5.mp3
│   │   ├── 6.mp3
│   │   ├── 7.mp3
│   │   ├── 8.mp3
│   │   └── 9.mp3
│   └── letters/
│       ├── A.mp3
│       ├── B.mp3
│       ├── C.mp3
│       ... (A-Z)
│       └── Z.mp3
├── uzLat/
│   └── (та же структура)
└── uzCyr/
    └── (та же структура)
```

## Описание файлов

### Обязательные файлы в корне каждой языковой папки:

- **beep.mp3** - короткий "пик" перед объявлением (сигнал внимания, опционально)
- **number.mp3** - слово "Номер" / "Navbat raqami" / "Навбат рақами"
- **window.mp3** - слово "окно" (только для ru)
- **window_suffix.mp3** - суффикс "oynaga" (uzLat) / "ойнага" (uzCyr) - обязателен для uzLat/uzCyr
- **please_go.mp3** - устаревший файл, больше не используется

### Папка digits/ (обязательно):

- **0.mp3 ... 9.mp3** - озвучка цифр от 0 до 9

### Папка letters/ (обязательно):

- **A.mp3 ... Z.mp3** - озвучка букв латинского алфавита (для номеров талонов типа "T-002", "R-001", "A12")

## Формат файлов

- Формат: MP3 или WAV
- Рекомендуемый битрейт: 128 kbps для MP3
- Рекомендуемая частота дискретизации: 44.1 kHz
- Моно или стерео - на выбор

## Порядок воспроизведения

### Для uzLat/uzCyr:
При вызове талона "T-001" к окну "3" воспроизводится последовательность:

1. `beep.mp3` - сигнал (опционально)
2. `number.mp3` - "Navbat raqami" / "Навбат рақами"
3. `letters/T.mp3` - "T"
4. `digits/0.mp3` - "0"
5. `digits/0.mp3` - "0"
6. `digits/1.mp3` - "1"
7. `digits/3.mp3` - "3"
8. `window_suffix.mp3` - "oynaga" / "ойнага"

**Результат:** "Navbat raqami T 0 0 1. 3-oynaga." / "Навбат рақами T 0 0 1. 3-ойнага."

### Для ru:
При вызове талона "T-001" к окну "3" воспроизводится последовательность:

1. `beep.mp3` - сигнал (опционально)
2. `number.mp3` - "Номер"
3. `letters/T.mp3` - "T"
4. `digits/0.mp3` - "0"
5. `digits/0.mp3` - "0"
6. `digits/1.mp3` - "1"
7. `window.mp3` - "окно"
8. `digits/3.mp3` - "3"

## Обработка ошибок

Если какой-то файл отсутствует (404), система:
- Выведет предупреждение в консоль (`console.warn`)
- Пропустит этот файл и продолжит воспроизведение остальных
- Не прервёт работу табло

## Примечания

- Дефис в номерах талонов (например, "T-002") не озвучивается
- Все буквы приводятся к верхнему регистру перед поиском файла
- Система работает полностью офлайн, без внешних API
- Аудио файлы предзагружаются перед воспроизведением для уменьшения пауз
- Между клипами есть небольшие паузы (60ms по умолчанию, 10ms перед window_suffix)
- Если `window_suffix.mp3` отсутствует для uzLat/uzCyr, система попытается использовать `window.mp3` как fallback
